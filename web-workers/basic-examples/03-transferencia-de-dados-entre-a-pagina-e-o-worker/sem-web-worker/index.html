<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Transferência de dados entre a página e o Worker</title>
  <link rel="stylesheet" href="https://getbootstrap.com/docs/3.4/dist/css/bootstrap.min.css">
</head>

<body>
  <div>
    <section>
      <h2>Section</h2>

      <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Tenetur est facere, magni natus minima iure nam excepturi aliquam animi harum assumenda porro officiis necessitatibus quibusdam laborum, exercitationem incidunt placeat molestias inventore fugit numquam nemo consectetur minus quaerat. Facere natus blanditiis voluptatum ut nemo id illo dolores, culpa doloribus vero suscipit quas dignissimos cum vitae velit fuga consectetur, aperiam est excepturi ea ipsum sit! Doloribus repellendus alias suscipit recusandae, atque inventore tempore accusantium laborum labore beatae eius dolore deleniti dolores. Libero voluptates magni autem omnis. Eligendi sit soluta voluptate corrupti voluptates deleniti debitis, autem dolor veniam saepe, itaque dolorum magnam consequatur.</p>

      <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Tenetur est facere, magni natus minima iure nam excepturi aliquam animi harum assumenda porro officiis necessitatibus quibusdam laborum, exercitationem incidunt placeat molestias inventore fugit numquam nemo consectetur minus quaerat. Facere natus blanditiis voluptatum ut nemo id illo dolores, culpa doloribus vero suscipit quas dignissimos cum vitae velit fuga consectetur, aperiam est excepturi ea ipsum sit! Doloribus repellendus alias suscipit recusandae, atque inventore tempore accusantium laborum labore beatae eius dolore deleniti dolores. Libero voluptates magni autem omnis. Eligendi sit soluta voluptate corrupti voluptates deleniti debitis, autem dolor veniam saepe, itaque dolorum magnam consequatur.</p>
    </section>

    <section>
      <h2>Section</h2>

      <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Tenetur est facere, magni natus minima iure nam excepturi aliquam animi harum assumenda porro officiis necessitatibus quibusdam laborum, exercitationem incidunt placeat molestias inventore fugit numquam nemo consectetur minus quaerat. Facere natus blanditiis voluptatum ut nemo id illo dolores, culpa doloribus vero suscipit quas dignissimos cum vitae velit fuga consectetur, aperiam est excepturi ea ipsum sit! Doloribus repellendus alias suscipit recusandae, atque inventore tempore accusantium laborum labore beatae eius dolore deleniti dolores. Libero voluptates magni autem omnis. Eligendi sit soluta voluptate corrupti voluptates deleniti debitis, autem dolor veniam saepe, itaque dolorum magnam consequatur.</p>

      <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Tenetur est facere, magni natus minima iure nam excepturi aliquam animi harum assumenda porro officiis necessitatibus quibusdam laborum, exercitationem incidunt placeat molestias inventore fugit numquam nemo consectetur minus quaerat. Facere natus blanditiis voluptatum ut nemo id illo dolores, culpa doloribus vero suscipit quas dignissimos cum vitae velit fuga consectetur, aperiam est excepturi ea ipsum sit! Doloribus repellendus alias suscipit recusandae, atque inventore tempore accusantium laborum labore beatae eius dolore deleniti dolores. Libero voluptates magni autem omnis. Eligendi sit soluta voluptate corrupti voluptates deleniti debitis, autem dolor veniam saepe, itaque dolorum magnam consequatur.</p>
    </section>

    <section>
      <h2>Section</h2>

      <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Tenetur est facere, magni natus minima iure nam excepturi aliquam animi harum assumenda porro officiis necessitatibus quibusdam laborum, exercitationem incidunt placeat molestias inventore fugit numquam nemo consectetur minus quaerat. Facere natus blanditiis voluptatum ut nemo id illo dolores, culpa doloribus vero suscipit quas dignissimos cum vitae velit fuga consectetur, aperiam est excepturi ea ipsum sit! Doloribus repellendus alias suscipit recusandae, atque inventore tempore accusantium laborum labore beatae eius dolore deleniti dolores. Libero voluptates magni autem omnis. Eligendi sit soluta voluptate corrupti voluptates deleniti debitis, autem dolor veniam saepe, itaque dolorum magnam consequatur.</p>

      <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Tenetur est facere, magni natus minima iure nam excepturi aliquam animi harum assumenda porro officiis necessitatibus quibusdam laborum, exercitationem incidunt placeat molestias inventore fugit numquam nemo consectetur minus quaerat. Facere natus blanditiis voluptatum ut nemo id illo dolores, culpa doloribus vero suscipit quas dignissimos cum vitae velit fuga consectetur, aperiam est excepturi ea ipsum sit! Doloribus repellendus alias suscipit recusandae, atque inventore tempore accusantium laborum labore beatae eius dolore deleniti dolores. Libero voluptates magni autem omnis. Eligendi sit soluta voluptate corrupti voluptates deleniti debitis, autem dolor veniam saepe, itaque dolorum magnam consequatur.</p>
    </section>

    <section>
      <h2>Section</h2>

      <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Tenetur est facere, magni natus minima iure nam excepturi aliquam animi harum assumenda porro officiis necessitatibus quibusdam laborum, exercitationem incidunt placeat molestias inventore fugit numquam nemo consectetur minus quaerat. Facere natus blanditiis voluptatum ut nemo id illo dolores, culpa doloribus vero suscipit quas dignissimos cum vitae velit fuga consectetur, aperiam est excepturi ea ipsum sit! Doloribus repellendus alias suscipit recusandae, atque inventore tempore accusantium laborum labore beatae eius dolore deleniti dolores. Libero voluptates magni autem omnis. Eligendi sit soluta voluptate corrupti voluptates deleniti debitis, autem dolor veniam saepe, itaque dolorum magnam consequatur.</p>

      <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Tenetur est facere, magni natus minima iure nam excepturi aliquam animi harum assumenda porro officiis necessitatibus quibusdam laborum, exercitationem incidunt placeat molestias inventore fugit numquam nemo consectetur minus quaerat. Facere natus blanditiis voluptatum ut nemo id illo dolores, culpa doloribus vero suscipit quas dignissimos cum vitae velit fuga consectetur, aperiam est excepturi ea ipsum sit! Doloribus repellendus alias suscipit recusandae, atque inventore tempore accusantium laborum labore beatae eius dolore deleniti dolores. Libero voluptates magni autem omnis. Eligendi sit soluta voluptate corrupti voluptates deleniti debitis, autem dolor veniam saepe, itaque dolorum magnam consequatur.</p>
    </section>

    <section>
      <h2>Section</h2>

      <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Tenetur est facere, magni natus minima iure nam excepturi aliquam animi harum assumenda porro officiis necessitatibus quibusdam laborum, exercitationem incidunt placeat molestias inventore fugit numquam nemo consectetur minus quaerat. Facere natus blanditiis voluptatum ut nemo id illo dolores, culpa doloribus vero suscipit quas dignissimos cum vitae velit fuga consectetur, aperiam est excepturi ea ipsum sit! Doloribus repellendus alias suscipit recusandae, atque inventore tempore accusantium laborum labore beatae eius dolore deleniti dolores. Libero voluptates magni autem omnis. Eligendi sit soluta voluptate corrupti voluptates deleniti debitis, autem dolor veniam saepe, itaque dolorum magnam consequatur.</p>

      <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Tenetur est facere, magni natus minima iure nam excepturi aliquam animi harum assumenda porro officiis necessitatibus quibusdam laborum, exercitationem incidunt placeat molestias inventore fugit numquam nemo consectetur minus quaerat. Facere natus blanditiis voluptatum ut nemo id illo dolores, culpa doloribus vero suscipit quas dignissimos cum vitae velit fuga consectetur, aperiam est excepturi ea ipsum sit! Doloribus repellendus alias suscipit recusandae, atque inventore tempore accusantium laborum labore beatae eius dolore deleniti dolores. Libero voluptates magni autem omnis. Eligendi sit soluta voluptate corrupti voluptates deleniti debitis, autem dolor veniam saepe, itaque dolorum magnam consequatur.</p>
    </section>

    <section>
      <h2>Section</h2>

      <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Tenetur est facere, magni natus minima iure nam excepturi aliquam animi harum assumenda porro officiis necessitatibus quibusdam laborum, exercitationem incidunt placeat molestias inventore fugit numquam nemo consectetur minus quaerat. Facere natus blanditiis voluptatum ut nemo id illo dolores, culpa doloribus vero suscipit quas dignissimos cum vitae velit fuga consectetur, aperiam est excepturi ea ipsum sit! Doloribus repellendus alias suscipit recusandae, atque inventore tempore accusantium laborum labore beatae eius dolore deleniti dolores. Libero voluptates magni autem omnis. Eligendi sit soluta voluptate corrupti voluptates deleniti debitis, autem dolor veniam saepe, itaque dolorum magnam consequatur.</p>

      <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Tenetur est facere, magni natus minima iure nam excepturi aliquam animi harum assumenda porro officiis necessitatibus quibusdam laborum, exercitationem incidunt placeat molestias inventore fugit numquam nemo consectetur minus quaerat. Facere natus blanditiis voluptatum ut nemo id illo dolores, culpa doloribus vero suscipit quas dignissimos cum vitae velit fuga consectetur, aperiam est excepturi ea ipsum sit! Doloribus repellendus alias suscipit recusandae, atque inventore tempore accusantium laborum labore beatae eius dolore deleniti dolores. Libero voluptates magni autem omnis. Eligendi sit soluta voluptate corrupti voluptates deleniti debitis, autem dolor veniam saepe, itaque dolorum magnam consequatur.</p>
    </section>

    <section>
      <h2>Section</h2>

      <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Tenetur est facere, magni natus minima iure nam excepturi aliquam animi harum assumenda porro officiis necessitatibus quibusdam laborum, exercitationem incidunt placeat molestias inventore fugit numquam nemo consectetur minus quaerat. Facere natus blanditiis voluptatum ut nemo id illo dolores, culpa doloribus vero suscipit quas dignissimos cum vitae velit fuga consectetur, aperiam est excepturi ea ipsum sit! Doloribus repellendus alias suscipit recusandae, atque inventore tempore accusantium laborum labore beatae eius dolore deleniti dolores. Libero voluptates magni autem omnis. Eligendi sit soluta voluptate corrupti voluptates deleniti debitis, autem dolor veniam saepe, itaque dolorum magnam consequatur.</p>

      <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Tenetur est facere, magni natus minima iure nam excepturi aliquam animi harum assumenda porro officiis necessitatibus quibusdam laborum, exercitationem incidunt placeat molestias inventore fugit numquam nemo consectetur minus quaerat. Facere natus blanditiis voluptatum ut nemo id illo dolores, culpa doloribus vero suscipit quas dignissimos cum vitae velit fuga consectetur, aperiam est excepturi ea ipsum sit! Doloribus repellendus alias suscipit recusandae, atque inventore tempore accusantium laborum labore beatae eius dolore deleniti dolores. Libero voluptates magni autem omnis. Eligendi sit soluta voluptate corrupti voluptates deleniti debitis, autem dolor veniam saepe, itaque dolorum magnam consequatur.</p>
    </section>

    <section>
      <h2>Section</h2>

      <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Tenetur est facere, magni natus minima iure nam excepturi aliquam animi harum assumenda porro officiis necessitatibus quibusdam laborum, exercitationem incidunt placeat molestias inventore fugit numquam nemo consectetur minus quaerat. Facere natus blanditiis voluptatum ut nemo id illo dolores, culpa doloribus vero suscipit quas dignissimos cum vitae velit fuga consectetur, aperiam est excepturi ea ipsum sit! Doloribus repellendus alias suscipit recusandae, atque inventore tempore accusantium laborum labore beatae eius dolore deleniti dolores. Libero voluptates magni autem omnis. Eligendi sit soluta voluptate corrupti voluptates deleniti debitis, autem dolor veniam saepe, itaque dolorum magnam consequatur.</p>

      <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Tenetur est facere, magni natus minima iure nam excepturi aliquam animi harum assumenda porro officiis necessitatibus quibusdam laborum, exercitationem incidunt placeat molestias inventore fugit numquam nemo consectetur minus quaerat. Facere natus blanditiis voluptatum ut nemo id illo dolores, culpa doloribus vero suscipit quas dignissimos cum vitae velit fuga consectetur, aperiam est excepturi ea ipsum sit! Doloribus repellendus alias suscipit recusandae, atque inventore tempore accusantium laborum labore beatae eius dolore deleniti dolores. Libero voluptates magni autem omnis. Eligendi sit soluta voluptate corrupti voluptates deleniti debitis, autem dolor veniam saepe, itaque dolorum magnam consequatur.</p>
    </section>

    <section>
      <h2>Section</h2>

      <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Tenetur est facere, magni natus minima iure nam excepturi aliquam animi harum assumenda porro officiis necessitatibus quibusdam laborum, exercitationem incidunt placeat molestias inventore fugit numquam nemo consectetur minus quaerat. Facere natus blanditiis voluptatum ut nemo id illo dolores, culpa doloribus vero suscipit quas dignissimos cum vitae velit fuga consectetur, aperiam est excepturi ea ipsum sit! Doloribus repellendus alias suscipit recusandae, atque inventore tempore accusantium laborum labore beatae eius dolore deleniti dolores. Libero voluptates magni autem omnis. Eligendi sit soluta voluptate corrupti voluptates deleniti debitis, autem dolor veniam saepe, itaque dolorum magnam consequatur.</p>

      <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Tenetur est facere, magni natus minima iure nam excepturi aliquam animi harum assumenda porro officiis necessitatibus quibusdam laborum, exercitationem incidunt placeat molestias inventore fugit numquam nemo consectetur minus quaerat. Facere natus blanditiis voluptatum ut nemo id illo dolores, culpa doloribus vero suscipit quas dignissimos cum vitae velit fuga consectetur, aperiam est excepturi ea ipsum sit! Doloribus repellendus alias suscipit recusandae, atque inventore tempore accusantium laborum labore beatae eius dolore deleniti dolores. Libero voluptates magni autem omnis. Eligendi sit soluta voluptate corrupti voluptates deleniti debitis, autem dolor veniam saepe, itaque dolorum magnam consequatur.</p>
    </section>
  </div>

  <div data-js="loading">Loading...</div>

  <table class="table">
    <thead></thead>
    <tbody></tbody>
  </table>

  <script>
    const loading = document.querySelector('[data-js="loading"]')

    const length = 150000
    const json = Array.from({ length }, (_, index) => {
      const id = index + 1

      return {
        id,
        type: 'CreateEvent',
        actor: `User ${id}`,
        repo: `repo/${id}`,
        public: true,
        created_at: new Date().toJSON()
      }
    })

    function createTheadColumns(data) {
      const columns = Object.keys(data[0])
      .map((key) => `<th>${key}</th>`)
      .join("");

      return `<tr>${columns}</tr>`;
    }

    function createTbodyRows(data) {
      return data
      .map((row) => {
        return `
        <tr>
          ${Object.values(row)
            .map((column) => `<td>${column}</td>`)
            .join("")}
          </tr>
          `;
        })
        .join("");
      }

      function processData(data) {
        const theadColumns = createTheadColumns(data);
        const tbodyRows = createTbodyRows(data);

        return {
          theadColumns,
          tbodyRows,
        };
      };

      function renderTable({ theadColumns, tbodyRows }) {
        const thead = document.querySelector('thead')
        const tbody = document.querySelector('tbody')

        thead.innerHTML = theadColumns
        tbody.innerHTML = tbodyRows

        loading.style.display = 'none'
      }

      renderTable(processData(json))

      console.log('next code block...')
    </script>
  </body>
  </html>